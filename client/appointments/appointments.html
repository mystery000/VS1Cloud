<template name="appointments">
    <div class="fullScreenSpin" style="display:none;">
        <div class="spinner"></div>
    </div>

    <div class="row">
        <div class="col-12 col-md-4">
            <header class="pt-2 pb-3 d-flex">
                <h3 class="mr-1">Appointment Overview {{> helpbutton}}</h3>
            </header>
        </div>
        <div class="col-12 col-md-4 divLogged">
            {{> loggedcompanyoverview}}
        </div>
    </div>

    <style >
        @media screen and (max-width: 450px) {
            .navbar .container-fluid> :not(#sidebarToggleTop) {
                display: none;
            }

            .colCalendar {
                padding: 0px !important;
            }

            .fc-view-harness.fc-view-harness-active {
                max-height: 100vh !important;
                height: 100vh !important;
            }

            .appointmentHeader {
                display: none;
            }

            .colEmployeeList {
                display: none;
            }

            .fc-toolbar-chunk:nth-child(1) {
                display: none;
            }

            .fc-toolbar-chunk:nth-child(2) {
                margin: 0 auto;
                margin-top: 8px !important;
            }

            .fc-toolbar-chunk:nth-child(3) {
                display: none;
            }
        }

        @media (max-width: 992px) {
            #colEmployeeList{
                display:none
            }
        }

        @media (min-width: 450px) {
            .col-lg-2 {
                flex: 0 0 16.66667%;
                max-width: 16.66667%;
            }

            .col-lg-10 {
                flex: 0 0 83.33333%;
                max-width: 83.33333%;
            }
        }

        @media (max-height: 450px) and (max-width: 950px) {
            .topbar {
                display: none;
            }

            .appointmentHeader {
                display: none;
            }

            .fc-toolbar-title {
                margin-top: 8px !important;
            }

            .colEmployeeList {
                display: none;
            }

            .colCalendar {
                padding: 0px !important;
            }

            .fc-header-toolbar.fc-toolbar.fc-toolbar-ltr {
                padding-top: 0px;
            }

            #allocationModal {
                padding-left: 0px !important;
                z-index: 1049;
            }

            .fc-view-harness.fc-view-harness-active {
                max-height: 600px !important;
                height: 600px !important;
            }

            .fc-toolbar-chunk:nth-child(1) {
                display: none;
            }

            .fc-toolbar-chunk:nth-child(3) {
                display: none;
            }

            .fc-toolbar-chunk {
                width: 100% !important;
            }

            .headerDiv {
                margin-bottom: 0px !important;
            }

            .allocationOuterModal {
                margin-bottom: 0px;
                margin-top: 0px;
                max-height: 100vh;
                height: 100vh;
            }

            .allocationFooter {
                display: none;
            }

            .allocationHeaderParent {
                padding: 0.75rem !important;
            }

            .customerListModalInner {
                margin: 0px !important;
                max-width: 100vw !important;
            }

            .customerListContent {
                max-height: 100vh !important;
                height: 100vh !important;
            }

            .colCompany {
                width: 400px !important;
            }

            .modalCreateOuter {
                margin: 0px !important;
                max-width: 100vw !important;
            }

            .modalCreateAppointments {
                width: 100vw !important;
            }

            .cardBodyInner {
                padding: 3px !important;
            }

            .cardBodyInner {
                font-size: 11px !important;
            }
        }

        .modal {
            overflow-y: auto;
        }

        .fc-event-main {
            z-index: 0 !important;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: clip;
            max-height: 97px;
        }

        .fc .fc-timegrid-body {
            z-index: 0 !important;
        }

        @media (max-width: 750px) {
            .modal-dialog {
                max-width: 100% !important;
                min-height: 100% !important;
                margin-top: 0px !important;
            }
        }

        .allocationInnerModal {
            width: 95vw;
            height: 95vh;
        }

        .allocationHeaderDate {
            background-color: rgba(0, 0, 0, 0) !important;
            padding: 0px !important;
            border-radius: 0px !important;
            border: 0px solid #e3e6f0 !important;
            background-clip: border-box !important;
            box-shadow: 0 0 0 0 rgb(0 0 0 / 0%) !important;
            font-size: 1.3rem !important;
            margin-top: 8px !important;
        }

        .btnPrev {
            margin-right: 12px;
        }

        .btnNext {
            margin-left: 12px;
        }
    </style>
    <div class="modal fade" role="dialog" tabindex="-1" id="settingsModal">
        <div class="modal-dialog modal-sm modal-dialog-centered" role="document" style="max-width: 400px;">
            <div class="modal-content">
                <form id="appointmentOptions" name="appointmentOptions">
                    <div class="modal-header">
                        <h4>Appointment Settings</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                    </div>
                    <div class="modal-body" style="padding: 24px;">
                        <div class="row">
                            <div class="col-12">
                                <div class="custom-control custom-switch"><input type="checkbox" class="custom-control-input" id="showSaturday" /><label class="custom-control-label" for="showSaturday">Show Saturday</label></div>
                            </div>
                        </div>
                        <div class="row" style="margin-top: 1em;">
                            <div class="col-12">
                                <div class="custom-control custom-switch"><input type="checkbox" class="custom-control-input" id="showSunday" /><label class="custom-control-label" for="showSunday">Show Sunday</label></div>
                            </div>
                        </div>
                        <div class="row" style="margin-top: 1em;">
                            <div class="col-12">
                                <div class="form-group flex-grow-1" style="margin: 8px 0px 0px 0px;">
                                    <label style="margin-bottom: 0px;">Show Hours</label>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group flex-grow-1" style="margin: 8px 0px;">
                                    <label>From</label>
                                    <input type="time" id="hoursFrom" class="form-control" value="08:00">
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group flex-grow-1" style="margin: 8px 0px;">
                                    <label>To</label>
                                    <input type="time" id="hoursTo" class="form-control" value="17:00">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div class="form-group flex-grow-1" style="margin: 8px 0px;">
                                    <label>Default Booking Time</label>
                                    <select id="defaultTime" class="form-control">
                                        <option>1 Hour</option>
                                        <option>2 Hours</option>
                                        <option>3 Hours</option>
                                        <option>4 Hours</option>
                                        <option>5 Hours</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div class="form-group flex-grow-1" style="margin: 8px 0px;">
                                    <label>Show Time In</label>
                                    <select id="showTimeIn" class="form-control">
                                        <option value="">Don't Round</option>
                                        <option value="">30 Minutes</option>
                                        <option value="" selected>1 Hour</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div class="form-group flex-grow-1" style="margin: 8px 0px;">
                                    <label>Minimum Charge Time</label>
                                    <select id="chargeTime" class="form-control">
                                        <option selected>1 Hour</option>
                                        <option>2 Hours</option>
                                        <option>3 Hours</option>
                                        <option>4 Hours</option>
                                        <option>5 Hours</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12 colProductService" id="colProductService">
                                <div class="form-group flex-grow-1" style="margin: 8px 0px;"><label>Default Product /
                                        Service</label>
                                    <select id="productlist" name="productlist" class="form-control">
                                        {{#if datatablerecords}}
                                            {{#each item in datatablerecords}}
                                                <option value="{{item.id}}">{{item.productname}}</option>
                                            {{/each}}
                                        {{/if}}
                                    </select>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="modal-footer">
                      <button class="btn btn-success btnSaveSettings" style="margin:12px;" type="submit"><i class="fa fa-save" style="margin-right: 5px;"></i>Save</button>
                      <button class="btn btn-warning btnResetSettings" style="margin:12px;" data-dismiss="modal" type="reset"><i class="fa fa-repeat" style="margin-right: 5px;"></i>Reset</button>
                      <button class="btn btn-secondary" data-dismiss="modal" style="margin:12px;" type="button"><i class="fa fa-remove" style="margin-right: 5px;"></i>Close</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
   

    <div class="modal fade" role="dialog" id="frmOptions">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4>Appointment Options</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                </div>
                <div class="modal-body" style="padding: 0px; overflow-x: hidden;">
                    <div class="row">
                        <div class="col-12">
                            <a role="presentation" class="dropdown-item pointer" id="deleteAll"><i class="far fa-trash-alt text-danger" style="width: 16px;"></i> Delete this Appointment and following Appointments</a>
                        </div>
                        <div class="col-12">
                            <a role="presentation" class="dropdown-item pointer" id="copyappointment"><i class="far fa-copy text-warning" style="width: 16px;"></i> Copy this Appointment to Another Day</a>
                        </div>
                        <div class="col-12">
                            <a role="presentation" class="dropdown-item pointer btnRepeatApp" id="btnRepeatApp"><i class="fas fa-redo-alt text-info" style="width: 16px;"></i> Repeat This Appointment</a>
                        </div>
                        <div class="col-12">
                            <a role="presentation" class="dropdown-item pointer" id="createInvoice" data-toggle="modal"><i class="fas fa-file-invoice-dollar text-success" style="width: 16px;"></i> Create Invoice</a>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary btnAppOptionsModal" id="btnAppOptionsModal" type="button" data-dismiss="modal"><i class="fa fa-remove" style="margin-right: 5px;"></i>Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" role="dialog" id="frmNewDate">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4>Select New Date</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                </div>
                <div class="modal-body" style="padding: 10px; overflow-x: hidden;">
                    <div class="row">
                        <div class="col-8 colStartDate" id="colStartDate">
                            <div class="form-group" style="margin: 8px 0px;">
                                <label>Start Date</label>
                                <div class="input-group date" style="cursor: pointer;">
                                    <input type="text" class="form-control formClassDate statementDate" id="startDate" name="startDate" value="{{invoicerecord.saledate}}">
                                    <div class="input-group-addon" style="">
                                        <span class="glyphicon glyphicon-th" style="cursor: pointer;"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-success btnSaveAppointment" style="margin: 14px;" id="btnCopyAppointment" name="btnCopyAppointment"><i class="fa fa-save" style="margin-right: 5px;"></i>Save</button>
                        <button class="btn btn-secondary btnAppOptionsModal" id="btnAppOptionsModal" type="button" data-dismiss="modal"><i class="fa fa-remove" style="margin-right: 5px;"></i>Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div role="dialog" tabindex="-1" class="modal fade repeatAppointments" id="myModal2">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 style="margin: 0px;">Repeat Appointments</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <div class="row">
                            <div class="col"><label class="col-form-label" style="width: 100%;">Repeat Appointment Every</label></div>
                        </div>
                        <div class="row no-gutters">
                            <div class="col" style="margin-right: 4px;">
                                <select id="frequency" class="float-right form-control">
                                    <option value=""></option>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                </select>
                            </div>
                            <div class="col" style="margin-left: 4px;">
                                <select id="period" class="float-right form-control">
                                    <option value="days">Days</option>
                                    <option value="weeks">Weeks</option>
                                    <option value="months">Months</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <!--  <div class="form-group">
<div class="row no-gutters">
<div class="col" style="margin-right: 4px;">
<select id="offset" class="float-right form-control">
<option value="Begin of Month Plus">Begin of Month Plus</option>
<option value="End of Month Minus">End of Month Minus</option>
</select>
</div>
<div class="col" style="margin-left: 4px;">
<input type="number" min="0" step="1" oninput="validity.valid||(value='');" class="float-left form-control" style="margin-right: 4px;" placeholder="days" autocomplete="off">
</div>
</div>
</div> -->
                    <div class="form-group">
                        <div class="row">
                            <div class="col repeatOn"><label class="col-form-label" style="width: 100%;">Repeat On</label></div>
                        </div>
                        <style>
                            .select-size input {
                                display: none;
                            }

                            .day-active {
                                background: #00a3d3 !important;
                                color: #fff !important;
                            }

                            .normal-day {
                                background: #fff;
                                color: #858796;
                            }

                            .radioLabel {
                                display: inline-block;
                                width: 50px;
                                height: 50px;
                                text-align: center;
                                border: 1px solid #ddd;
                                line-height: 50px;
                                cursor: pointer;
                                border-radius: 25px;
                            }

                            .file-name span {
                                width: 100%;
                                float: left;
                            }

                            #file-display .fileIocns i.fa.fa-file {
                                color: rgb(252, 181, 38);
                                font-size: 24px;
                            }

                            #file-display {
                                padding: 0;
                                margin: 0;
                            }

                            .uploaded-element {
                                display: inherit;
                            }

                            .uploaded-element {

                                border: 1px solid rgb(237, 237, 237);
                                border-top: none;

                                float: left;
                                width: 100%;
                                display: flex;
                                align-items: center;
                                padding: 1rem;
                            }

                            #file-display .fileIocns {
                                background-image: url(img/file_icons-samall.png);
                                background-repeat: no-repeat;
                                background-position: 0 -105px;
                            }

                            #file-display .fileIocns {
                                float: left;
                                margin-right: 10px;
                            }

                            .file-name {
                                float: left;
                                width: 87%;
                            }

                            .uploaded-element-header {
                                border: 1px solid rgb(237, 237, 237);
                                border-top: none;
                                float: left;
                                width: 100%;
                                display: flex;
                                align-items: center;
                                padding: 10px;
                                background: #e3e6f0;
                            }

                            .uploaded-header {
                                width: 100%;
                                text-align: center;
                            }

                            .uploaded-element .confirm-action a.confirm-delete-attachment {
                                padding: 6px 13px 5px;
                                background-color: rgb(216, 68, 68) !important;
                                border-color: rgb(197, 112, 119) rgb(169, 29, 29) rgb(169, 29, 29) rgb(197, 112, 119);
                                color: rgb(255, 255, 255) !important;
                                text-shadow: 1px 1px 1px rgba(30, 30, 30, 0.15);
                                line-height: initial;
                                font-size: 12px;
                                float: left;
                            }

                            button.save-to-library {
                                padding: 6px 13px 5px;
                                border-radius: 4px;
                                background: linear-gradient(rgb(255, 255, 255), rgb(230, 234, 236));
                                border: 1px solid rgb(230, 230, 230);
                                border-color: rgb(230, 230, 230) rgb(179, 179, 179) rgb(179, 179, 179) rgb(230, 230, 230) !important;
                                color: rgb(204, 0, 0) !important;
                                font-weight: bold;
                                margin-left: 10px !important;
                                font-size: 12px;
                            }

                            .uploaded-element {
                                display: inherit;
                            }

                            /* HERE */
                            #files_view .modal-title {
                                white-space: nowrap;
                                overflow: hidden;
                                text-overflow: ellipsis;
                                width: 70%;
                            }

                            #files_view .modal-title {
                                color: #333;
                                font-size: 18px;
                                font-weight: 700;
                                text-rendering: optimizelegibility;
                                padding: 9px 0;
                                padding-left: 15px;
                                padding-top: 11px;
                            }

                            #files_view .modal-dialog {
                                /* width: 750px; */
                                margin: 30px auto;
                            }

                            #files_view .modal-header .close {
                                margin-top: 0;
                                width: 46px;
                                height: 46px;
                                padding: 6px 0 0;
                                border-left: 1px solid #ddd;
                                opacity: 1;
                                margin: 0;
                            }

                            #files_view .modal-header {
                                padding: 0;
                                display: block;
                            }

                            #files_view .modal-body {
                                background-color: rgb(250, 251, 251);
                            }

                            #files_view .image-previewer img {
                                border: 3px solid #fff;
                                box-shadow: 2px 2px 8px rgba(0, 0, 0, .2);
                                width: 100%;
                            }

                            .download_button {
                                width: 100%;
                                text-align: center;
                                margin-top: 20px;
                            }
                        </style>
                        <div class="row">
                            <div class="col">
                                <div class="select-size">
                                    <input class="radioInput" type="radio" name="monday" id="monday" />
                                    <input class="radioInput" type="radio" name="tuesday" id="tuesday" />
                                    <input class="radioInput" type="radio" name="wednesday" id="wednesday" />
                                    <input class="radioInput" type="radio" name="thursday" id="thursday" />
                                    <input class="radioInput" type="radio" name="friday" id="friday" />
                                    <input class="radioInput" type="radio" name="saturday" id="saturday" />
                                    <input class="radioInput" type="radio" name="sunday" id="sunday" />

                                    <label class="radioLabel normal-day" for="monday">M</label>
                                    <label class="radioLabel normal-day" for="tuesday">T</label>
                                    <label class="radioLabel normal-day" for="wednesday">W</label>
                                    <label class="radioLabel normal-day" for="thursday">T</label>
                                    <label class="radioLabel normal-day" for="friday">F</label>
                                    <label class="radioLabel normal-day" for="saturday">S</label>
                                    <label class="radioLabel normal-day" for="sunday">S</label>
                                </div>
                            </div>
                        </div>
                        <!--
<script>
$( document ).ready(function() {
$("body").on("click", "label", function(e) {
var getValue = $(this).attr("for");
var goToParent = $(this).parents(".select-size");
var getInputRadio = goToParent.find("input[id = " + getValue + "]");
});
})
</script>
-->
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col"><label class="col-form-label" style="width: 100%;">Ends</label></div>
                        </div>
                        <div class="row no-gutters" style="margin-bottom: 4px;">
                            <div class="col d-xl-flex align-items-xl-center">
                                On
                            </div>
                            <div class="col">
                                <div class="form-group" style="margin: 8px 0px;">
                                    <div class="input-group date" style="cursor: pointer;">
                                        <input type="text" class="form-control formClassDate" id="finalDate" name="finalDate" value="{{invoicerecord.saledate}}">
                                        <div class="input-group-addon" style="">
                                            <span class="glyphicon glyphicon-th" style="cursor: pointer;"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-success" id="btnSaveRepeat" type="button"><i class="fa fa-save" style="margin-right: 5px;"></i>Save</button>
                    <button class="btn btn-secondary" data-dismiss="modal" type="button"><i class="fa fa-close" style="margin-right: 5px;"></i>Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" role="dialog" id="frmOnHoldModal">
        <div class="modal-dialog modal-sm modal-dialog-centered" role="document" style="max-width: 400px;">
            <div class="modal-content">
                <div class="modal-header">
                    <h4>Reason For Pausing Job</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                </div>
                <div class="modal-body" style="padding: 24px;">
                    <div class="row">
                        <div class="col-12">
                            <div class="custom-control custom-switch"><input type="checkbox" class="custom-control-input" id="break" value="Break" /><label class="custom-control-label" for="break">Break</label></div>
                        </div>
                    </div>
                    <div class="row" style="margin-top: 1em;">
                        <div class="col-12">
                            <div class="custom-control custom-switch"><input type="checkbox" class="custom-control-input" id="lunch" value="Lunch" /><label class="custom-control-label" for="lunch">Lunch</label></div>
                        </div>
                    </div>
                    <div class="row" style="margin-top: 1em;">
                        <div class="col-12">
                            <div class="custom-control custom-switch"><input type="checkbox" class="custom-control-input" id="purchase" value="Purchase" /><label class="custom-control-label" for="purchase">Purchase</label></div>
                        </div>
                    </div>
                    <div class="row" style="margin-top: 1em;">
                        <div class="col-12">
                            <div class="form-group flex-grow-1" style="margin: 8px 0px 0px 0px;">
                                <label>Notes</label><textarea class="form-control" id="txtpause-notes">
                                </textarea>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-success btnPauseJob"><i class="fa fa-save" style="margin-right: 5px;"></i>Save</button>
                    <button class="btn btn-secondary" data-dismiss="modal" type="button"><i class="fa fa-remove" style="margin-right: 5px;"></i>Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal print-button -modal -->
    <div class="modal fade stopAppointment" role="dialog" tabindex="-1" id="stopAppointment">
        <div class="modal-dialog modal-sm" role="document" style="max-width: 800px;">
            <div class="modal-content">
                <div class="modal-header" style="padding-bottom: 8px;">
                    <h4>Stop Appointment</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                </div>
                <div class="modal-body">
                    <div class="swal2-icon swal2-warning" style="display: block;">!</div>
                    <div class="swal2-contentwrapper">
                        <!-- <h2 class="swal2-title" id="swal2-title">Stop Appointment</h2> -->
                        <div id="swal2-content" class="swal2-content" style="display: block; text-align:center">Once an appointment has ended, it cannot be restarted.</div>
                    </div>
                    <div class="row">
                        <div class="col-12 col-md-8 colProductService2" id="colProductService2">
                            <div class="form-group flex-grow-1" style="margin: 20px 0px;">
                                <label>Product / Service for Appointment</label>
                                <input type="search" autocomplete="off" id="product-list-1" name="product-list-1" class="form-control es-input product-list" style="background-color:rgb(255, 255, 255); cursor: pointer;">
                                <ul class="es-list" style="top: 77px; left: 12px; width: 350px;"></ul>
                            </div>
                        </div>
                        <div class="col-12 col-md-4 colProductService1" id="colProductService1" style="padding-top: 44px;">
                            <button class="btn btn-primary btn_Attachment float-left" type="button" style="margin: 8px 0px;" data-toggle="modal" href="#myModalAttachment" id="btn_Attachment-1" autocomplete="off"> {{attachmentCount}} <i
                                    class="fa fa-paperclip"></i></button>
                            <button class="btn btn-primary float-left" type="button" style="margin: 8px; margin-left: 16px;" data-toggle="modal" href="#myModalAttachment" id="triggerCamera-1" autocomplete="off"><i class="fa fa-camera"
                                    aria-hidden="true"></i></button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <!-- <button class="btn btn-primary addExtraProduct" type="button" style="margin-bottom: 36px; margin-left: 16px;">Extra Product / Service Fees</button> -->
                            <table id="tblExtraProducts" style="width:100%" class="table table-striped table-bordered tblInventory">
                                <thead>
                                    <tr class="dnd-moved">
                                        <th class="thProductName" style="width: 25% !important;">Product Name</th>
                                        <th class="colDescription">Sales Description</th>
                                        <!-- <th class="thColBarcode hiddenColumn">Barcode</th> -->
                                        <th class="thCostPrice hiddenColumn" style="width: 13% !important;text-align: left!important;">Cost Price</th>
                                        <th class="thSalesPrice" style="width: 13% !important;text-align: left!important;">Sale Price</th>
                                        <th class="thQty hiddenColumn" style="width: 8% !important;">Quantity</th>
                                        <th class="thTax hiddenColumn" style="width: 8% !important;text-align: left!important;">Tax Rate</th>

                                        <th style="width: 25px !important;"></th>
                                        <th class="thExtraSellPrice hiddenColumn">Prouct ID</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {{#each item in extraProductFees}}
                                    <tr class="dnd-moved" id={{item.Id}}>
                                        <td class="thProductName">
                                            <input class="es-input highlightSelect lineProductName" type="search" value="{{item.ProductName}}" itemid="{{item.Id}}">
                                        </td>
                                        <td class="lineProductDesc colDescription">{{item.SalesDescription}}</td>
                                        <!-- <th class="thColBarcode hiddenColumn">Barcode</th> -->
                                        <td class="thCostPrice hiddenColumn" style="text-align: left!important;"></td>
                                        <td class="thSalesPrice lineSalesPrice" style="text-align: left!important;">{{item.SellQty1Price}}</td>
                                        <td class="thQty hiddenColumn">Quantity</td>
                                        <td class="thTax hiddenColumn" style="text-align: left!important;">Tax Rate</td>
                                        <td>
                                            <span class="table-remove btnRemove"><button type="button" class="btn btn-danger btn-rounded btn-sm my-0 "><i
                                            class="fa fa-remove"></i></button></span>
                                        </td>
                                        <td class="thExtraSellPrice hiddenColumn">Prouct ID</td>
                                    </tr>
                                    {{/each}}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <button class="btn btn-primary" type="button" id="addRow" style="margin: 12px;">+ Add New Entry</button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col colNotes" id="colNotes">
                            <div class="form-group flex-grow-1" style="margin: 8px 0px;">
                                <label>Enter Extra Work Done and Materials Used</label>
                                <textarea class="border rounded form-control txtNotes" rows="4" id="txtNotes-1" name="txtNotes-1" style="width: 100%; border: 1px solid #d1d3e2 !important;"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer" style="padding: 6px;">
                    <button class="btn btn-primary" type="button" id="btnEndAppointment" autocomplete="off">End Appointment</button>
                    <button class="btn btn-light" data-dismiss="modal" type="button" id="btnCloseStopAppointment">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Start Attachemt -->
    <div class="modal fade" role="dialog" tabindex="-1" id="myModalAttachment">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4>Upload Attachments</h4><button type="button" class="close closeModal" aria-label="Close"><span aria-hidden="true">×</span></button>
                </div>
                <div class="modal-body" style="padding: 0px;">
                    <div class="divTable" id="file-display">
                        <!-- <div class="uploaded-element-header">
<span class="uploaded-on uploaded-header">Upload a file</span>
</div> -->
                        <div class="col inboxcol1">
                            <img src="/icons/nofiles_icon.jpg" class="" style="width:100%;">
                        </div>
                        <div class="col inboxcol2" style="text-align: center;">
                            <div>Upload files or add files from the file library.</div>

                            <div>Capture copies of receipt's or take photo's of completed jobs.</div>

                            <p style="color: #ababab;">Only users with access to your company can view these files</p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">


                    <input type="file" id="img-attachment-upload" style="display:none" accept="image/*" capture="camera">
                    <button class="btn btn-primary btnUploadFile img_new_attachment_btn" type="button"><i class="fas fa-camera" style="margin-right: 5px;"></i>Capture</button>

                    <input type="file" id="attachment-upload" style="display:none" multiple accept=".jpg,.gif,.png">

                    <input type="file" id="attachment-upload" style="display:none" multiple accept=".jpg,.gif,.png,.bmp,.tiff,.pdf,.doc,.docx,.xls,.xlsx,.ppt,
                       .pptx,.odf,.csv,.txt,.rtf,.eml,.msg,.ods,.odt,.keynote,.key,.pages-tef,
                       .pages,.numbers-tef,.numbers,.zip,.rar,.zipx,.xzip,.7z,image/jpeg,
                       image/gif,image/png,image/bmp,image/tiff,application/pdf,
                       application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,
                       application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,
                       application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation,
                       application/vnd.oasis.opendocument.formula,text/csv,text/plain,text/rtf,message/rfc822,
                       application/vnd.ms-outlook,application/vnd.oasis.opendocument.spreadsheet,
                       application/vnd.oasis.opendocument.text,application/x-iwork-keynote-sffkey,
                       application/vnd.apple.keynote,application/x-iwork-pages-sffpages,
                       application/vnd.apple.pages,application/x-iwork-numbers-sffnumbers,
                       application/vnd.apple.numbers,application/zip,application/rar,
                       application/x-zip-compressed,application/x-zip,application/x-7z-compressed">

                    <button class="btn btn-primary btnUploadFile new_attachment_btn" type="button"><i class="fa fa-cloud-upload" style="margin-right: 5px;"></i>Upload</button>
                    <button class="btn btn-success btnAddAttachmentSave" type="button" style="margin-right: 5px;" autocomplete="off">
                        <i class="fa fa-save" style="padding-right: 8px;"></i>Save
                    </button>
                    <!-- <button class="btn btn-warning btnResetSettings" data-dismiss="modal" type="reset"><i class="fa fa-repeat" style="margin-right: 5px;"></i>Reset</button> -->
                    <button class="btn btn-secondary closeModal" type="button"><i class="fa fa-remove" style="margin-right: 5px;"></i>Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- END Attachments -->

    {{> deletepop itemName1="Appointment" itemName2="appointment" itemName3="Appointment" button1="btnDeleteAppointment" button2="btnDeleteFollowingAppointments"}}

    <div class="modal fade" role="dialog" tabindex="-1" id="productListModal">
        {{> payrollproductlistpop}}
    </div>

    <div class="modal fade" role="dialog" tabindex="-1" id="newProductModal">
        {{> newproductpop}}
    </div>

    <div class="modal fade" role="dialog" tabindex="-1" id="addCustomerModal">
        <!-- {{> addcustomerpop customerRecord=customerRecord}} -->
    </div>
    <div class="modal fade" role="dialog" tabindex="-1" id="productListModal1">
        {{> productlistpopwithcheckboxes}}
    </div>
    <div class="modal fade" role="dialog" tabindex="-1" id="productListModal2">
        {{> productlistpop}}
    </div>

    <div class="modal fade customerListModal" role="dialog" tabindex="-1" id="customerListModal">
        <div class="modal-dialog modal-xl modal-dialog-scrollable customerListModalInner" role="document" style="max-width: 90vw;">
            <div class="modal-content customerListContent">
                <div class="modal-header">
                    <h4>Customer List</h4><button type="button" class="close checkclose" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                </div>
                <div class="modal-body mainCustomerModalBody appointmentCustomer" style="padding: 0px; overflow-x: hidden;">
                    <input type="hidden" style="width: 100%; display:none;" id="customerSelectLineID" name="customerSelectLineID" readonly>
                    {{> customerlistpop}}

                </div>
                <div class="modal-footer"><button class="btn btn-light checkclose" data-dismiss="modal" type="button">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade employeeListModal" role="dialog" tabindex="-1" id="employeeListModal">
        <div class="modal-dialog modal-xl modal-dialog-scrollable customerListModalInner" role="document" style="max-width: 90vw;">
            <div class="modal-content customerListContent">
                <div class="modal-header">
                    <h4>Employee List</h4><button type="button" class="close checkclose" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                </div>
                <div class="modal-body mainCustomerModalBody" style="padding: 0px; overflow-x: hidden;">
                    {{> employeelistpop}}
                </div>
                <div class="modal-footer">
                    <button class="btn btn-light checkclose" data-dismiss="modal" type="button">Close</button>
                </div>
            </div>
        </div>
    </div>

    {{> newLeaveRequestModal}}

    <style>
        .fc-next-button {
            margin-right: 12px !important;
        }

        .fc-today-button {
            margin: 0 5px 0 5px !important;

        }

        .fc-newappointment-button {
            margin: 0 5px 0 5px !important;
        }

        .fc-appointments-button {
            margin: 0 5px 0 5px !important;
        }

        .fc-allocation-button {
            margin: 0 5px 0 5px !important;
        }

        .fc-refresh-button {
            margin-left: 5px !important;
        }

        .fc-next-button {
            margin-right: 5px !important;
        }

        .fc-dayGridMonth-button {
            margin-right: 5px !important;
            border-radius: 0.35rem !important;
        }


        .fc-timeGridWeek-button {
            margin: 0 5px 0 5px !important;
            border-radius: 0.35rem !important;
        }

        .fc-timeGridDay-button {
            margin: 0 5px 0 5px !important;
            border-radius: 0.35rem !important;
        }


        .fc-settingsmodalbutton-button {
            margin-left: 5px !important;
            border-radius: 0.35rem !important;
        }

        .fc-settingsmodalbutton-button:before {
          font-family: fontAwesome;
          content: "\f141";
        }

        .results tr[visible='false'],
        .no-result {
            display: none;
        }

        .results tr[visible='true'] {
            display: table-row;
        }

        .counter {
            padding: 8px;
            color: #ccc;
        }

        .sideSearch {
            width: 100% !important;
            overflow-x: hidden;
            overflow-y: hidden;
        }

        .cardB {
            max-height: 75vh;
            overflow-y: auto;
        }

        .rowB {
            overflow-x: auto;
            margin-left: 0px;
            padding: 20px;
            justify-content: space-between;
        }

        .nav-tabs .nav-link.active {
            color: rgb(0, 163, 211) !important;
            background-color: #EDEDED !important;
            border-color: #00a3d3 #00a3d3 #ededed #00a3d3 !important;
        }

        .nav-tabs .nav-link {
            background-color: #fff !important;
            border-color: #00a3d3 !important;
        }

        @media only screen and (max-width: 600px) {
            .sideSearch {
                width: auto;
            }
        }

        #cloudEmpEmailAddress:focus {
            border-color: #00a3d3;
        }

        .clearfix::after,
        .calendar ol::after {
            content: ".";
            display: block;
            height: 0;
            clear: both;
            visibility: hidden;
        }

        .calendar {
            border-radius: 10px;
        }

        .month {
            font-size: 2rem;
        }

        @media (min-width: 992px) {
            .month {
                font-size: 3.5rem;
            }
        }

        .calendar ol li {
            float: left;
            width: 14.28571%;
        }

        .calendar .day-names {
            border-bottom: 1px solid #eee;
        }

        .calendar .day-names li {
            text-transform: uppercase;
            margin-bottom: 0.5rem;
        }

        .calendar .days li {
            border-bottom: 1px solid #eee;
            min-height: 8rem;
        }

        .calendar .days li .date {
            margin: 0.5rem 0;
        }

        .calendar .days li .event {
            font-size: 0.75rem;
            padding: 0.4rem;
            color: white;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            border-radius: 4rem;
            margin-bottom: 1px;
        }

        .calendar .days li .event.span-2 {
            width: 200%;
        }

        .calendar .days li .event.begin {
            border-radius: 1rem 0 0 1rem;
        }

        .calendar .days li .event.end {
            border-radius: 0 1rem 1rem 0;
        }

        .calendar .days li:nth-child(n + 29) {
            border-bottom: none;
        }

        .calendar .days li.outside .date {
            color: #ddd;
        }

        .fc-event.fc-daygrid-event.fc-daygrid-block-event {
            cursor: pointer !important;
        }

        .alignColCenter {
            top: 20%;
            left: 20%;
        }

        /*Calendar Styling Classes*/
        .calendarWidth100 {
            width: 100%;
        }

        @media screen and (max-width: 768px) {
            .newcardb {
                margin: 0 auto !important;
                margin-bottom: 16px !important;
            }
        }

        @media screen and (max-width: 1024px) {
            .allocationHeaderDate {
                width: 300px !important;
            }

            .modalCreateAppointments {
                width: 95vw;
            }

            .rowB {
                margin-left: 0px;
                margin-right: 0px;
            }

            .alloDate {
                width: 400px !important;
                margin-right: 25%;
            }

            .fc-toolbar-chunk {
                background-color: rgba(0, 0, 0, 0) !important;
                padding: 0px !important;
                border-radius: 0px !important;
                border: 0px solid #e3e6f0 !important;
                background-clip: border-box !important;
                box-shadow: 0 0 0 0 rgb(0 0 0 / 0%) !important;
            }

            .newcardb {
                /* max-height: 300px !important; */
                /* margin-left: 28px !important; */
            }

            .colEmployeeList {
                /* margin: auto !important; */
            }

            .fc-col-header {
                width: 100% !important;
            }

            .fc-scrollgrid-sync-table {
                width: 100% !important;
            }

            .fc-daygrid-body {
                width: 100% !important;
            }

            .fc-daygrid-body-unbalanced {
                width: 100% !important;
            }

            .fc-daygrid-body-natural {
                width: 100% !important;
            }

            .fc-timegrid-body {
                width: 100% !important;
            }

            .table-bordered {
                width: 100% !important;
            }

            .fc-timegrid-cols>table {
                width: 100% !important;
            }

            .colCalendar {
                padding: 0em 1.5em;
                padding-left: 8px;
            }

            .newcardb {
                width: 100% !important;
            }

            .sideSearch {
                width: 100% !important;
            }

            .inputSearch {
                width: 98% !important;
            }

            .fc .fc-toolbar-title {
                font-size: 1.4em !important;
            }

            .btn-group {
                margin-left: 12px;
                margin-bottom: 8px;
            }

            .fc-today-button {
                margin-bottom: 8px;
            }

            .fc-newappointment-button {
                margin-bottom: 8px;
            }

            .fc-appointments-button {
                margin-bottom: 8px;
            }

            .fc-allocation-button:before {
                content: "\A";
            }

            .fc-allocation-button {
                margin-bottom: 8px;
            }

            .fc-toolbar-chunk {
                width: 33%;
                text-align: center;
            }

            .mainCustomerModalBody {
                overflow-x: hidden !important;
                overflow-x: hidden;
            }

            .refreshpagelist {
                margin-bottom: 0px !important;
            }
        }

        @media screen and (max-width: 850px) {
            .allocationInnerModal {
                width: 100vw;
            }
        }

        @media screen and (max-width: 450px) {
            .cardBodyInner {
                padding: 4px !important;
            }

            .allocationCloser {
                display: none;
            }

            #allocationModal {
                overflow-y: hidden;
                padding-left: 0px !important
            }

            .allocationInnerModal {
                width: 100vw;
                max-height: 100vh;
                height: 100vh;
            }

            .alloDate {
                margin-left: 17px !important;
                margin-right: 0px !important;
            }

            .allocationHeader {
                display: none;
            }

            .allocationHeaderDate {
                width: 218px !important;
            }

            .rowB {
                width: 100%;
            }

            .newcardb {
                margin: 0px !important;
                margin-top: 1em !important;
                width: 100% !important;
                max-height: 300px !important;
            }

            .counter.pull-right {
                padding-right: 0px !important;
            }

            .colCalendar {
                margin-right: 0px !important;
                padding: 0px !important;
                min-width: 1000px !important;
                overflow-x: auto;
            }

            .colEmployeeList {
                left: 0px !important;
                position: -webkit-sticky !important;
                position: -moz-sticky !important;
                position: -ms-sticky !important;
                position: -o-sticky !important;
                position: sticky !important;
                top: 0 !important;
            }

            .newcardb {
                left: 0px !important;
                position: -webkit-sticky !important;
                position: -moz-sticky !important;
                position: -ms-sticky !important;
                position: -o-sticky !important;
                position: sticky !important;
                top: 0 !important;
            }

            .tblEmployeeSideList {
                margin: 0px 8px !important;
                width: 96% !important;
            }

            .btnoptionsmodal {
                margin-right: 1.3em;
            }

            .fc .fc-toolbar-title {
                font-size: 1.3em !important;
            }

            .btn-group {
                margin-left: 12px;
                margin-bottom: 8px;
            }

            .fc-today-button {
                margin-bottom: 8px;
            }

            .fc-newappointment-button {
                margin-bottom: 8px;
            }

            .fc-appointments-button {
                margin-bottom: 8px;
            }

            .fc-allocation-button {
                margin-bottom: 8px;
            }

            .fc-toolbar-chunk {
                width: 260px;
            }

            .dataTables_length {
                float: left !important;
            }

            #tblCustomerlist_filter {
                margin-left: 0.75rem !important;
            }

            .refreshpagelist {
                margin-bottom: 0px !important;
            }

            .mainCustomerModalBody {
                overflow-x: hidden !important;
                overflow-x: hidden;
            }

            .btnRefreshGlobal {
                padding: 0px !important;
                padding-left: 4px !important;
            }

            .btnOpenSettings {
                margin-bottom: 4px !important;
            }

            .bookedTimeHeader {
                margin-top: 8px !important;
                padding-left: 0px !important;
            }

            .actualTimeHeader {
                margin-top: 8px !important;
                padding-left: 0px !important;
            }

            .colBookedTime {
                padding-left: 0px !important;
            }

            .colActualTime {
                padding-left: 0px !important;
            }
        }

        #colEmployeeList{margin-right: 20px;}
        #colCalendar{width: 100px;flex: 1;}

        @media screen and (max-width: 1366px) {
            .fc-toolbar-chunk>* {
                margin: 0px;
            }
        }

        .fc-dayGridMonth-view .fc-event{
            height:20px !important;
        }
    </style>

    <script>
        // setTimeout(function() {
        //
        //     var x = window.matchMedia("(max-width: 1024px)");
        //
        //     function mediaQuery(x) {
        //         if (x.matches) {
        //
        //             $("#newcardb").addClass("alignColCenter");
        //         }
        //     }
        //     mediaQuery(x);
        //     x.addListener(mediaQuery);
        // }, 10);
        // setTimeout(function() {
        //
        //     var x = window.matchMedia("(max-width: 812px)");
        //
        //     function mediaQuery(x) {
        //         if (x.matches) {
        //
        //             $("#newcardb").addClass("alignColCenter");
        //
        //             $("#colCustJobName").removeClass("col-6");
        //             $("#colCustJobName").addClass("col-12");
        //             $("#colMobno").removeClass("col-2");
        //             $("#colMobno").addClass("col-4");
        //             $("#colPhoneno").removeClass("col-2");
        //             $("#colPhoneno").addClass("col-4");
        //             $("#colAppID").removeClass("col-2");
        //             $("#colAppID").addClass("col-4");
        //
        //             $("#colStreetAddress").removeClass("col-4");
        //             $("#colStreetAddress").addClass("col-12");
        //             $("#colCityTown").removeClass("col-2");
        //             $("#colCityTown").addClass("col-4");
        //             $("#colState").removeClass("col-2");
        //             $("#colState").addClass("col-4");
        //             $("#colCountry").removeClass("col-2");
        //             $("#colCountry").addClass("col-4");
        //             $("#colZip").removeClass("col-2");
        //             $("#colZip").addClass("col-4");
        //
        //             $("#colEmpName").removeClass("col-6");
        //             $("#colEmpName").addClass("col-12");
        //             $("#colStartDate").removeClass("col-3");
        //             $("#colStartDate").addClass("col-6");
        //             $("#colEndDate").removeClass("col-3");
        //             $("#colEndDate").addClass("col-6");
        //
        //             $("#colBookedTime").removeClass("col-6");
        //             $("#colBookedTime").addClass("col-12");
        //             $("#colBookedStartTime").removeClass("col-2");
        //             $("#colBookedStartTime").addClass("col-4");
        //             $("#colBookedEndTime").removeClass("col-2");
        //             $("#colBookedEndTime").addClass("col-4");
        //             $("#colBookedHours").removeClass("col-2");
        //             $("#colBookedHours").addClass("col-4");
        //
        //             $("#colActualTime").removeClass("col-3");
        //             $("#colActualTime").addClass("col-12");
        //             $("#timeHeader").removeClass("float-right");
        //             $("#timeHeader").addClass("float-left");
        //             $("#colActualStartTime").removeClass("col-2");
        //             $("#colActualStartTime").addClass("col-4");
        //             $("#colActualEndTime").removeClass("col-2");
        //             $("#colActualEndTime").addClass("col-4");
        //             $("#colAppointmentList").removeClass("col-1");
        //             $("#colAppointmentList").addClass("col-2");
        //         }
        //     }
        //     mediaQuery(x);
        //     x.addListener(mediaQuery);
        // }, 10);
        // setTimeout(function() {
        //
        //     var x = window.matchMedia("(max-width: 1024px)");
        //
        //     function mediaQuery(x) {
        //         if (x.matches) {
        //
        //             $("#colEmployeeList").removeClass("col-auto");
        //             $("#colEmployeeList").addClass("col-12");
        //
        //             $("#colCalendar").removeClass("col");
        //             $("#colCalendar").addClass("col-12");
        //
        //         }
        //     }
        //     mediaQuery(x);
        //     x.addListener(mediaQuery);
        // }, 10);
        // setTimeout(function() {
        //
        //     var x = window.matchMedia("(max-width: 420px)");
        //
        //     function mediaQuery(x) {
        //         if (x.matches) {
        //
        //             $("#colEmployeeList").removeClass("col-auto");
        //             $("#colEmployeeList").addClass("col-12");
        //
        //             $("#colCalendar").removeClass("col");
        //             $("#colCalendar").addClass("col-12");
        //
        //             $("#colCustJobName").removeClass("col-6");
        //             $("#colCustJobName").addClass("col-12");
        //             $("#colMobno").removeClass("col-2");
        //             $("#colMobno").addClass("col-4");
        //             $("#colPhoneno").removeClass("col-2");
        //             $("#colPhoneno").addClass("col-4");
        //             $("#colAppID").removeClass("col-2");
        //             $("#colAppID").addClass("col-4");
        //
        //             $("#colStreetAddress").removeClass("col-4");
        //             $("#colStreetAddress").addClass("col-12");
        //             $("#colCityTown").removeClass("col-2");
        //             $("#colCityTown").addClass("col-6");
        //             $("#colState").removeClass("col-2");
        //             $("#colState").addClass("col-6");
        //             $("#colCountry").removeClass("col-2");
        //             $("#colCountry").addClass("col-6");
        //             $("#colZip").removeClass("col-2");
        //             $("#colZip").addClass("col-6");
        //
        //             $("#colNotesParent").removeClass("col-4");
        //             $("#colNotesParent").addClass("col-12");
        //
        //             $("#colBookedTimeParent").removeClass("col-8");
        //             $("#colBookedTimeParent").addClass("col-12");
        //             $("#colBookedTime").removeClass("col-3");
        //             $("#colBookedTime").addClass("col-12");
        //             $("#bookedTimeHeader").removeClass("float-right");
        //             $("#bookedTimeHeader").addClass("float-left");
        //             $("#colBookedStartTime").removeClass("col-3");
        //             $("#colBookedStartTime").addClass("col-4");
        //             $("#colActualEndTime").removeClass("col-3");
        //             $("#colActualEndTime").addClass("col-4");
        //             $("#colBookedHours").removeClass("col-3");
        //             $("#colBookedHours").addClass("col-4");
        //             $("#actualTimeHeader").removeClass("float-right");
        //             $("#actualTimeHeader").addClass("float-left");
        //
        //             // $("#colProductService2").removeClass("col-6");
        //             // $("#colProductService2").addClass("col-12");
        //             // $("#colStart").removeClass("col-2");
        //             // $("#colStart").addClass("col-4");
        //             // $("#colOnHold").removeClass("col-2");
        //             // $("#colOnHold").addClass("col-4");
        //             // $("#colStop").removeClass("col-2");
        //             // $("#colStop").addClass("col-4");
        //
        //         }
        //     }
        //     mediaQuery(x);
        //     x.addListener(mediaQuery);
        // }, 10);
    </script>

    <div style="">
        <button class="btn btn-link d-md rounded-circle mr-3" id="sidebarToggleAppointments" type="button"><i class="fas fa-bars" style="color: #00A3D3;"></i></button>
    </div>

    <div class="row rowB charts connectedChartSortable connectedSortable ui-sortable" id="rowB">
        <div class="colEmployeeList sortable-chart-widget-js draggable-panel" chart-slug="appointment-card-0" id="colEmployeeList" style="width:288px;">
            <style>
                /* .newcardb {
                    width: 150px;
                } */

                .cardB {
                    padding: 0px;
                    /*                    overflow-x: hidden;*/
                }

                .counter.pull-right {
                    /* padding-right: 70px !important; */
                }

                #tblEmployeeSideList {
                    -webkit-touch-callout: none;
                    -webkit-user-select: none;
                    -khtml-user-select: none;
                    -moz-user-select: none;
                    -ms-user-select: none;
                    user-select: none;
                }
            </style>
            <div class="card shadow mb-4 newcardb portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all ui-resizable" id="newcardb1" style="">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h6 class="text-primary font-weight-bold m-0">Employees</h6>
                </div>
                <div class="card-body text-nowrap cardB">
                    <div class="sideSearch">
                        <div class="form-group pull-right" style="width: 95%; margin-bottom: 0; margin-right: 8px;">
                            <input style="margin: 4px;" type="text" class="inputSearch search form-control" placeholder="Search...">
                        </div>
                        <span class="counter pull-right"></span>
                        <style>
                            .empColor {
                                height: 18px;
                                width: 18px;
                                border-radius: 50%;
                                display: inline-block;
                                margin-right: 4px;
                                text-align: center;
                                font-size: 12px;
                            }

                            .empPriority {
                                color: #ffffff;
                            }
                        </style>
                        <table id="tblEmployeeSideList" name="tblEmployeeSideList" class="table table-hover table-bordered results tblEmployeeSideList">
                            <thead>
                                <tr>
                                    <th style="width:190px">Employee</th>
                                    <th>Leave</th>
                                </tr>
                                <tr class="warning no-result">
                                    <td colspan="4"><i class="fa fa-warning"></i> No result</td>
                                </tr>
                            </thead>
                            <tbody id='external-events-list'>
                                <!-- <div id='external-events'>
<div > -->
                                {{#if employeerecords}}
                                    {{#each item in employeerecords}}
                                        <tr id="{{item.id}}">
                                            <td>
                                                <div class='fc-event fc-daygrid-event fc-daygrid-block-event' style="width:164px">
                                                {{#if item.color}}
                                                    <div class='fc-event-main'>
                                                        <span class="empColor" style="background: {{item.color}};">
                                                            <span class="empPriority">{{item.priority}}</span>
                                                        </span>
                                                        {{item.employeeName}}
                                                        <span id="employeeID_{{item.id}}" class="employeeID" style="display: none;">{{item.id}}</span>
                                                        <span id="employeeName_{{item.id}}" class="employeeName" style="display: none;">{{item.employeeName}}</span>
                                                    </div>
                                                {{else}}
                                                    <div class='fc-event-main'>
                                                        {{item.employeeName}} <span id="employeeID" style="display: none;">{{item.id}}</span>
                                                    </div>
                                                {{/if}}
                                                </div>
                                            </td>
                                            <td align="center">
                                                <a role="button" id="addLeave_{{item.id}}" data-toggle="modal" href="#" class="btn btn-primary addLeaveEmp" style="width: 24px; height: 24px; text-align: center; padding:0">
                                                    <i class="icon ion-calendar"></i>
                                                </a>
                                            </td>
                                        </tr>
                                    {{/each}}
                                {{/if}}

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>

        <div class="colCalendar sortable-chart-widget-js draggable-panel" chart-slug="appointment-card-1" id="colCalendar" style="width:calc(100% - 325px);">
            <style>
                #sidebarToggleAppointments:hover {
                    background-color: #eaecf4;
                }
                #calendar{overflow: auto;}
                #calendar .fc-header-toolbar{
                    padding-top: 5px;
                    width: 1420px;
                    overflow: hidden;
                    justify-content: flex-start;
                }
            </style>
            <div class="card shadow mb-4 newcardb portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all ui-resizable" id="newcardb2" style="">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h6 class="text-primary font-weight-bold m-0">Calendar</h6>
                </div>
                <div class="card-body text-nowrap">
                    {{> calender}}
                </div>
            </div>

        </div>
    </div>

    <div class="modal fade" role="dialog" tabindex="-1" id="resource-view">
        <div class="modal-dialog modal-xl modal-dialog-scrollable" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4>Resource Allocations</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                </div>
                <div class="modal-body">
                    <input type="hidden" id="currentDate" name="currentDate">
                    <div id='resourceview'></div>

                </div>
                <div class="modal-footer"><button class="btn btn-light" data-dismiss="modal" type="button">Close</button>
                    <button class="btn btn-primary" type="button" style="background-color: #00A3D3; border-color: #00A3D3;">Select</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" role="dialog" tabindex="-1" id="copyFrequencyModal">
        {{> copyfrequencypop}}
    </div>
    <div class="modal fade appointmentLeaveConfirmModal" role="dialog" tabindex="-1" id="appointmentLeaveConfirmModal">
        <div class="modal-dialog modal-dialog-scrollable" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4>Choose request type</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                </div>
                <div class="modal-body d-flex align-items-center justify-content-center flex-column">
                        <button class="btn btn-primary btnCreateAppointmentRequest w-50" type="button" id="btnCreateAppointmentRequest" name="btnCreateAppointmentRequest">Appointment</button>
                        <button class="btn btn-primary btnCreateLeaveRequest w-50 mt-3" type="button" id="btnCreateLeaveRequest" name="btnCreateLeaveRequest">LeaveRequest</button>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-light" data-dismiss="modal" type="button">Close</button>
                </div>
            </div>
        </div>
    </div>
</template>
